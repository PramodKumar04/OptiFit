<MDScreenManager>:
    LoginScreen:
    SignupScreen:
    PersonalDetailsScreen:
    HomeScreen:

<LoginScreen>:
    name: "login"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDTextField:
            id: email
            hint_text: "Email"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDTextField:
            id: password
            hint_text: "Password"
            password: True
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDRaisedButton:
            text: "Login"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.login()

        MDRaisedButton:
            text: "Sign Up"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.manager.current = "signup"

<SignupScreen>:
    name: "signup"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDTextField:
            id: signup_email
            hint_text: "Email"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDTextField:
            id: signup_password
            hint_text: "Password"
            password: True
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDRaisedButton:
            text: "Continue to Details"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.signup_step_one()

        MDRaisedButton:
            text: "Back to Login"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.manager.current = "login"

<PersonalDetailsScreen>:
    name: "personal_details"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDTextField:
            id: name
            hint_text: "Name"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDTextField:
            id: age
            hint_text: "Age"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDTextField:
            id: gender_field
            hint_text: "Gender"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_touch_down: if self.collide_point(*args[1].pos): root.open_gender_menu()

        MDTextField:
            id: fitness_goal_field
            hint_text: "Fitness Goal"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_touch_down: if self.collide_point(*args[1].pos): root.open_fitness_goal_menu()


        MDTextField:
            id: height
            hint_text: "Height (cm)"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDTextField:
            id: weight
            hint_text: "Weight (kg)"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)

        MDRaisedButton:
            text: "Submit"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.submit_details()

<HomeScreen>:
    name: "home"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDLabel:
            id: welcome_label
            text: "Welcome!"
            halign: "center"

        MDRaisedButton:
            text: "Logout"
            pos_hint: {"center_x": .5}
            size_hint_x: None
            width: dp(300)
            on_release:
                root.logout()

